\begin{tikzpicture}[gnuplot]
%% generated with GNUPLOT 4.7p0 (Lua 5.1; terminal rev. 99, script rev. 100)
%% Wed 15 May 2013 18:37:35 BST
\gpsolidlines
\path (0.000,0.000) rectangle (12.500,8.750);
\gpcolor{color=gp lt color border}
\gpsetlinetype{gp lt border}
\gpsetlinewidth{1.00}
\draw[gp path] (1.504,0.985)--(1.684,0.985);
\node[gp node right] at (1.320,0.985) { 0};
\draw[gp path] (1.504,1.281)--(1.594,1.281);
\draw[gp path] (1.504,1.577)--(1.684,1.577);
\node[gp node right] at (1.320,1.577) { 20};
\draw[gp path] (1.504,1.873)--(1.594,1.873);
\draw[gp path] (1.504,2.168)--(1.684,2.168);
\node[gp node right] at (1.320,2.168) { 40};
\draw[gp path] (1.504,2.464)--(1.594,2.464);
\draw[gp path] (1.504,2.760)--(1.684,2.760);
\node[gp node right] at (1.320,2.760) { 60};
\draw[gp path] (1.504,3.056)--(1.594,3.056);
\draw[gp path] (1.504,3.352)--(1.684,3.352);
\node[gp node right] at (1.320,3.352) { 80};
\draw[gp path] (1.504,3.648)--(1.594,3.648);
\draw[gp path] (1.504,3.943)--(1.684,3.943);
\node[gp node right] at (1.320,3.943) { 100};
\draw[gp path] (1.504,4.239)--(1.594,4.239);
\draw[gp path] (1.504,4.535)--(1.684,4.535);
\node[gp node right] at (1.320,4.535) { 120};
\draw[gp path] (1.504,4.831)--(1.594,4.831);
\draw[gp path] (1.504,5.127)--(1.684,5.127);
\node[gp node right] at (1.320,5.127) { 140};
\draw[gp path] (1.504,5.423)--(1.594,5.423);
\draw[gp path] (1.504,5.718)--(1.684,5.718);
\node[gp node right] at (1.320,5.718) { 160};
\draw[gp path] (1.504,6.014)--(1.594,6.014);
\draw[gp path] (1.504,6.310)--(1.684,6.310);
\node[gp node right] at (1.320,6.310) { 180};
\draw[gp path] (1.504,6.606)--(1.594,6.606);
\draw[gp path] (1.504,6.902)--(1.684,6.902);
\node[gp node right] at (1.320,6.902) { 200};
\draw[gp path] (1.504,7.198)--(1.594,7.198);
\draw[gp path] (1.504,7.493)--(1.684,7.493);
\node[gp node right] at (1.320,7.493) { 220};
\draw[gp path] (1.504,7.789)--(1.594,7.789);
\draw[gp path] (1.504,8.085)--(1.684,8.085);
\node[gp node right] at (1.320,8.085) { 240};
\draw[gp path] (1.504,8.381)--(1.594,8.381);
\draw[gp path] (3.177,0.985)--(3.177,1.165);
\node[gp node center] at (3.177,0.677) {Controller};
\draw[gp path] (4.851,0.985)--(4.851,1.165);
\node[gp node center] at (4.851,0.677) {Actuator};
\draw[gp path] (6.524,0.985)--(6.524,1.165);
\node[gp node center] at (6.524,0.677) {Sensor};
\draw[gp path] (1.504,8.381)--(1.504,0.985)--(8.197,0.985)--(8.197,8.381)--cycle;
\node[gp node center,rotate=-270] at (0.246,4.683) {Total messages received};
\node[gp node center] at (4.850,0.215) {Device Type};
\node[gp node right] at (6.729,8.047) {Sense Msg};
\gpfill{color=gp lt color 0} (6.913,7.970)--(7.829,7.970)--(7.829,8.124)--(6.913,8.124)--cycle;
\gpsetlinetype{gp lt plot 0}
\draw[gp path] (6.913,7.970)--(7.829,7.970)--(7.829,8.124)--(6.913,8.124)--cycle;
\gpfill{color=gp lt color 0} (2.550,0.985)--(3.806,0.985)--(3.806,4.536)--(2.550,4.536)--cycle;
\draw[gp path] (2.550,0.985)--(2.550,4.535)--(3.805,4.535)--(3.805,0.985)--cycle;
\node[gp node right] at (6.729,7.739) {Command Msg};
\gpfill{color=gp lt color 1} (6.913,7.662)--(7.829,7.662)--(7.829,7.816)--(6.913,7.816)--cycle;
\gpsetlinetype{gp lt plot 1}
\draw[gp path] (6.913,7.662)--(7.829,7.662)--(7.829,7.816)--(6.913,7.816)--cycle;
\gpfill{color=gp lt color 1} (2.550,4.535)--(3.806,4.535)--(3.806,4.536)--(2.550,4.536)--cycle;
\draw[gp path] (2.550,4.535)--(3.805,4.535)--cycle;
\gpfill{color=gp lt color 1} (4.223,0.985)--(5.479,0.985)--(5.479,1.430)--(4.223,1.430)--cycle;
\draw[gp path] (4.223,0.985)--(4.223,1.429)--(5.478,1.429)--(5.478,0.985)--cycle;
\node[gp node right] at (6.729,7.431) {Sensor Ping};
\gpfill{color=gp lt color 2} (6.913,7.354)--(7.829,7.354)--(7.829,7.508)--(6.913,7.508)--cycle;
\gpsetlinetype{gp lt plot 2}
\draw[gp path] (6.913,7.354)--(7.829,7.354)--(7.829,7.508)--(6.913,7.508)--cycle;
\gpfill{color=gp lt color 2} (2.550,4.535)--(3.806,4.535)--(3.806,4.891)--(2.550,4.891)--cycle;
\draw[gp path] (2.550,4.535)--(2.550,4.890)--(3.805,4.890)--(3.805,4.535)--cycle;
\gpfill{color=gp lt color 2} (4.223,1.429)--(5.479,1.429)--(5.479,1.430)--(4.223,1.430)--cycle;
\draw[gp path] (4.223,1.429)--(5.478,1.429)--cycle;
\node[gp node right] at (6.729,7.123) {Actuator Ping};
\gpfill{color=gp lt color 3} (6.913,7.046)--(7.829,7.046)--(7.829,7.200)--(6.913,7.200)--cycle;
\gpsetlinetype{gp lt plot 3}
\draw[gp path] (6.913,7.046)--(7.829,7.046)--(7.829,7.200)--(6.913,7.200)--cycle;
\gpfill{color=gp lt color 3} (2.550,4.890)--(3.806,4.890)--(3.806,4.891)--(2.550,4.891)--cycle;
\draw[gp path] (2.550,4.890)--(3.805,4.890)--cycle;
\gpfill{color=gp lt color 3} (4.223,1.429)--(5.479,1.429)--(5.479,1.430)--(4.223,1.430)--cycle;
\draw[gp path] (4.223,1.429)--(5.478,1.429)--cycle;
\node[gp node right] at (6.729,6.815) {ACK};
\gpfill{color=gp lt color 4} (6.913,6.738)--(7.829,6.738)--(7.829,6.892)--(6.913,6.892)--cycle;
\gpsetlinetype{gp lt plot 4}
\draw[gp path] (6.913,6.738)--(7.829,6.738)--(7.829,6.892)--(6.913,6.892)--cycle;
\gpfill{color=gp lt color 4} (2.550,4.890)--(3.806,4.890)--(3.806,5.779)--(2.550,5.779)--cycle;
\draw[gp path] (2.550,4.890)--(2.550,5.778)--(3.805,5.778)--(3.805,4.890)--cycle;
\gpfill{color=gp lt color 4} (4.223,1.429)--(5.479,1.429)--(5.479,1.430)--(4.223,1.430)--cycle;
\draw[gp path] (4.223,1.429)--(5.478,1.429)--cycle;
\gpfill{color=gp lt color 4} (5.896,0.985)--(7.152,0.985)--(7.152,1.164)--(5.896,1.164)--cycle;
\draw[gp path] (5.896,0.985)--(5.896,1.163)--(7.151,1.163)--(7.151,0.985)--cycle;
\gpsetlinetype{gp lt border}
\draw[gp path] (1.504,8.381)--(1.504,0.985)--(8.197,0.985)--(8.197,8.381)--cycle;
%% coordinates of the plot area
\gpdefrectangularnode{gp plot 1}{\pgfpoint{1.504cm}{0.985cm}}{\pgfpoint{8.197cm}{8.381cm}}
\end{tikzpicture}
%% gnuplot variables
